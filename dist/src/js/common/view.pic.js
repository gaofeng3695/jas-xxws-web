var viewPicObj=function(){function i(i,t){var n=new Image;n.src=i,n.complete?t(n.width,n.height):n.onload=function(){t(n.width,n.height)}}var t=$('<div class="viewWindow"></div>'),n=$('<div class="viewMain"></div>'),e=$('<img src="" alt="">'),a=$('<div class="viewClose"><i>&times;</i></div>'),d=$('<div class="viewLeft">&lt;</div>'),o=$('<div class="viewRight">&gt;</div>'),l=null,c=null,h=null,s=null,r=null,p=null,g=null,v="/src/images/common/loading.gif";$("body").on("click",".viewClose",function(){f()}),$("body").on("click",".viewLeft",function(){u()}),$("body").on("click",".viewRight",function(){m()});var w=function(){g=!0,l=0,$("body").addClass("viewer-open"),$("body").append(t),t.append(n),n.append(e),t.append(a),t.append(d),t.append(o),d.show(),o.show(),r=t.height(),p=t.width(),e.css({width:"56px",height:"56px","margin-top":"-28px","margin-left":"-28px"})},f=function(){$("body").removeClass("viewer-open"),t.remove()},u=function(){1==g&&(g=!1,e.css({width:"56px",height:"56px","margin-top":"-28px","margin-left":"-28px"}),o.show(),1==l&&d.hide(),h=s.find("li").eq(l-1).find("img").attr("data-original"),e.attr("src",v),x(h),l--)},m=function(){1==g&&(g=!1,e.css({width:"56px",height:"56px","margin-top":"-28px","margin-left":"-28px"}),d.show(),l==c-2&&o.hide(),h=s.find("li").eq(l+1).find("img").attr("data-original"),e.attr("src",v),x(h),l++)},x=function(t){i(t,function(i,n){g=!0,e.attr("src",t),e.height(n),e.width(i),n>r&&(e.height(r),e.width("auto"),n=r,i=e.width()),i>p&&(e.width(p),e.height("auto"),i=p,n=e.height()),e.css({"margin-top":-n/2+"px","margin-left":-i/2+"px"})})};return{viewPic:function(i){w(),l=$(i).closest("li").index(),s=$(i).closest("ul"),c=s.find("li").length,h=$(i).attr("data-original"),e.attr("src",v),0==l&&d.hide(),l==c-1&&o.hide(),g=!1,x(h)}}}();