function addListener(t,i,n){t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent("on"+i,n)}function removeListener(t,i,n){t.removeEventListener?t.removeEventListener(i,n,!1):t.detachEvent("on"+i,n)}function drafting(t,i){new Resize(document.getElementById(t)).set(document.getElementById(i),"down")}var Sys=function(t){var i={};return i.IE=!!t.match(/msie ([\d.]+)/),i.Firefox=!!t.match(/firefox\/([\d.]+)/),i.Chrome=!!t.match(/chrome\/([\d.]+)/),i}(navigator.userAgent.toLowerCase()),Css=function(t,i){for(var n in i)t.style[n]=i[n]},Extend=function(t,i){for(var n in i)t[n]=i[n]},Bind=function(t,i){var n=Array.prototype.slice.call(arguments).slice(2);return function(){return i.apply(t,n)}},BindAsEventListener=function(t,i){var n=Array.prototype.slice.call(arguments).slice(2);return function(e){return i.apply(t,[e||window.event].concat(n))}},CurrentStyle=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t,null)},Class=function(t){var i=function(){return null!==arguments[0]&&this.initialize&&"function"==typeof this.initialize?this.initialize.apply(this,arguments):this};return i.prototype=t,i},Resize=new Class({initialize:function(t){this.obj=t,this.resizeelm=null,this.fun=null,this.original=[],this.width=null,this.height=null,this.fR=BindAsEventListener(this,this.resize),this.fS=Bind(this,this.stop)},set:function(t,i){if(t)return this.resizeelm=t,addListener(this.resizeelm,"mousedown",BindAsEventListener(this,this.start,this[i])),this},start:function(t,i){this.fun=i,this.original=[parseInt(CurrentStyle(this.obj).width),parseInt(CurrentStyle(this.obj).height),parseInt(CurrentStyle(this.obj).left),parseInt(CurrentStyle(this.obj).top)],console.log({width:this.original[0],height:this.original[1],left:this.original[2],top:this.original[3]}),this.width=(this.original[2]||0)+this.original[0],this.height=(this.original[3]||0)+this.original[1],addListener(document,"mousemove",this.fR),addListener(document,"mouseup",this.fS)},resize:function(t){this.fun(t),Sys.IE?this.resizeelm.onlosecapture=function(){console.log(1),this.fS()}:this.resizeelm.onblur=function(){console.log(2),this.fS()}},stop:function(){removeListener(document,"mousemove",this.fR),removeListener(document,"mousemove",this.fS)},up:function(t){this.height>t.clientY?Css(this.obj,{top:t.clientY+"px",height:this.height-t.clientY+"px"}):this.turnDown(t)},down:function(t){t.clientY>this.original[3]?Css(this.obj,{top:this.original[3]+"px",height:t.clientY-this.original[3]+"px"}):this.turnUp(t)},left:function(t){t.clientX<this.width?Css(this.obj,{left:t.clientX+"px",width:this.width-t.clientX+"px"}):this.turnRight(t)},right:function(t){t.clientX>this.original[2]?Css(this.obj,{left:this.original[2]+"px",width:t.clientX-this.original[2]+"px"}):this.turnLeft(t)},leftUp:function(t){this.up(t),this.left(t)},leftDown:function(t){this.left(t),this.down(t)},rightUp:function(t){this.up(t),this.right(t)},rightDown:function(t){this.right(t),this.down(t)},turnDown:function(t){Css(this.obj,{top:this.height+"px",height:t.clientY-this.height+"px"})},turnUp:function(t){Css(this.obj,{top:"0px",height:this.original[3]-t.clientY+"px"})},turnRight:function(t){Css(this.obj,{left:this.width+"px",width:t.clientX-this.width+"px"})},turnLeft:function(t){Css(this.obj,{left:t.clientX+"px",width:this.original[2]-t.clientX+"px"})}});