var departmentObj={zTree:null,_frameName:null,init:function(){},getAllData:function(e,t,a){$("#departmentSelect").modal();var r=this,n=lsObj.getLocalStorage("userBo");_this_frameName=e,$.ajax({type:"GET",url:"/cloudlink-core-framework/organization/getTree?token="+lsObj.getLocalStorage("token"),contentType:"application/json",data:{token:lsObj.getLocalStorage("token"),enterpriseId:JSON.parse(n).enterpriseId},dataType:"json",success:function(e){r.renderDepartment(e.rows,t,a)}})},renderDepartment:function(e,t,a){var r=this,n={view:{showLine:!0,showIcon:!1,selectedMulti:!1,txtSelectedEnable:!0},data:{key:{name:"name"},simpleData:{enable:!0,pIdKey:"pid"}},check:{enable:!0,chkStyle:"radio",autoCheckTrigger:!0,radioType:"all"},callback:{beforeClick:function(e,t,a){r.zTree.checkNode(t,!0,!0),r.zTree.expandNode(t,!0)},beforeCheck:function(e,t){r.zTree.selectNode(t)}}};r.zTree=$.fn.zTree.init($("#departmentTree"),n,e),r.zTree.expandAll(!0);var o=r.zTree.getNodesByParam("id",t,null);r.zTree.selectNode(o[0]),r.zTree.checkNode(o[0],!0,!0),null!=a&&null!=a&&void 0!=a&&r.prohibitDepart(a)},getSelectDepart:function(){var e=this.zTree.getCheckedNodes(!0),t={key:_this_frameName,value:e};return $("#departmentSelect").modal("hide"),t},prohibitDepart:function(e){var t=this,a=t.zTree.getNodesByParam("id",e,null);t.zTree.removeNode(a[0])}};$(function(){departmentObj.init()});