!function(e){var o=new Array("00","33","66","99","CC","FF"),t=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");e.fn.colorpicker=function(r){var c=jQuery.extend({},jQuery.fn.colorpicker.defaults,r);return function(){e("body").append('<div id="colorpanel" style="position: absolute; display: none;"></div>');var r="",c="";for(i=0;i<2;i++)for(j=0;j<6;j++)for(r+="<tr height=12>",r+='<td width=11 rel="#000000" style="background-color:#000000">',c=0==i?o[j]+o[j]+o[j]:t[j],r=r+'<td width=11 rel="#'+c+'" style="background-color:#'+c+'">',r+='<td width=11 rel="#000000" style="background-color:#000000">',k=0;k<3;k++)for(l=0;l<6;l++)c=o[k+3*i]+o[l]+o[j],r=r+'<td width=11 rel="#'+c+'" style="background-color:#'+c+'">';r='<table width=253 border="0" cellspacing="0" cellpadding="0" style="border:1px solid #000;"><tr height=30><td colspan=21 bgcolor=#cccccc><table cellpadding="0" cellspacing="1" border="0" style="border-collapse: collapse"><tr><td width="3"><td><input type="text" id="DisColor" size="6" disabled style="border:solid 1px #000000;background-color:#ffff00"></td><td width="3"><td><input type="text" id="HexColor" size="7" style="border:inset 1px;font-family:Arial;" value="#000000"><a href="javascript:void(0);" id="_cclose">关闭</a></td></tr></table></td></table><table id="CT" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse" bordercolor="000000"  style="cursor:pointer;">'+r+"</table>",e("#colorpanel").html(r);var n=e().jquery;if("1"==n.match(".")){var s=n.split(".");null!=s&&s.length>1?parseInt(s[0])>1?e("#colorpanel").on("click","#_cclose",function(){return e("#colorpanel").hide(),!1}).css({"font-size":"12px","padding-left":"20px"}):parseInt(s[1])>=8?e("#colorpanel").on("click","#_cclose",function(){return e("#colorpanel").hide(),!1}).css({"font-size":"12px","padding-left":"20px"}):e("#_cclose").live("click",function(){return e("#colorpanel").hide(),!1}).css({"font-size":"12px","padding-left":"20px"}):e("#_cclose").live("click",function(){return e("#colorpanel").hide(),!1}).css({"font-size":"12px","padding-left":"20px"})}}(),this.each(function(){var l=e(this);l.bind(c.event,function(){var o=e(this).offset().top,t=e(this).height(),r=e(this).offset().left;e("#colorpanel").css({top:o+t+5,left:r}).show();var i=c.target?e(c.target):l;null==i.data("color")&&i.data("color",i.css("color")),e(document).bind("mousedown",function(l){e(l.target).parents().andSelf().is("#colorpanel")||e("#colorpanel").hide()}),e("#CT tr td").unbind("click").mouseover(function(){var l=e(this).css("background-color");e("#DisColor").css("background",l),e("#HexColor").val(e(this).attr("rel"))}).click(function(){var o=e(this).css("background"),t=c.ishex?e(this).attr("rel"):o;c.fillcolor&&i.val(t),i.css("color",o),e("#colorpanel").hide(),c.success(l,t)})})})},jQuery.fn.colorpicker.defaults={ishex:!0,fillcolor:!1,target:null,event:"click",success:function(){},reset:function(){}}}(jQuery);